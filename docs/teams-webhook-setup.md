# MS Teams Webhook Setup Guide

## à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² MS Teams Webhook

### 1. à¸ªà¸£à¹‰à¸²à¸‡ Incoming Webhook à¹ƒà¸™ MS Teams

1. à¹€à¸›à¸´à¸” MS Teams à¹à¸¥à¸°à¹„à¸›à¸—à¸µà¹ˆ channel à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸£à¸±à¸šà¸à¸²à¸£à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™
2. à¸„à¸¥à¸´à¸à¸—à¸µà¹ˆ "..." (More options) à¸‚à¹‰à¸²à¸‡à¸Šà¸·à¹ˆà¸­ channel
3. à¹€à¸¥à¸·à¸­à¸ "Connectors"
4. à¸„à¹‰à¸™à¸«à¸² "Incoming Webhook" à¹à¸¥à¸°à¸„à¸¥à¸´à¸ "Configure"
5. à¸•à¸±à¹‰à¸‡à¸Šà¸·à¹ˆà¸­ webhook (à¹€à¸Šà¹ˆà¸™ "RIS OMS Alerts")
6. à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¸£à¸¹à¸›à¸ à¸²à¸ž (à¸–à¹‰à¸²à¸•à¹‰à¸­à¸‡à¸à¸²à¸£)
7. à¸„à¸¥à¸´à¸ "Create"
8. à¸„à¸±à¸”à¸¥à¸­à¸ URL à¸—à¸µà¹ˆà¹„à¸”à¹‰

### 2. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Environment Variables

à¹€à¸žà¸´à¹ˆà¸¡à¸•à¸±à¸§à¹à¸›à¸£à¸•à¹ˆà¸­à¹„à¸›à¸™à¸µà¹‰à¹ƒà¸™à¹„à¸Ÿà¸¥à¹Œ `.env.local`:

\`\`\`env
NEXT_PUBLIC_MS_TEAMS_WEBHOOK_URL=https://your-webhook-url-here
NEXT_PUBLIC_APP_URL=https://your-app-domain.com
\`\`\`

### 3. à¸—à¸”à¸ªà¸­à¸šà¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­

1. à¹„à¸›à¸—à¸µà¹ˆà¸«à¸™à¹‰à¸² Executive Dashboard
2. à¸„à¸¥à¸´à¸à¸—à¸µà¹ˆà¹à¸—à¹‡à¸š "Alerts"
3. à¸„à¸¥à¸´à¸à¸›à¸¸à¹ˆà¸¡ "Escalation" à¸‚à¹‰à¸²à¸‡à¹† alert à¹ƒà¸”à¹†
4. à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸²à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸›à¸£à¸²à¸à¸à¹ƒà¸™ MS Teams channel

## à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¸—à¸µà¹ˆà¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡

### ðŸ”„ Retry Logic
- à¸¥à¸­à¸‡à¸ªà¹ˆà¸‡à¹ƒà¸«à¸¡à¹ˆà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¸ªà¸¹à¸‡à¸ªà¸¸à¸” 3 à¸„à¸£à¸±à¹‰à¸‡
- à¹ƒà¸Šà¹‰ exponential backoff (1s, 2s, 4s)
- à¹„à¸¡à¹ˆà¸¥à¸­à¸‡à¹ƒà¸«à¸¡à¹ˆà¸ªà¸³à¸«à¸£à¸±à¸š client errors (4xx)

### â±ï¸ Timeout Handling
- Timeout 15 à¸§à¸´à¸™à¸²à¸—à¸µà¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸ªà¹ˆà¸‡à¹„à¸›à¸¢à¸±à¸‡ MS Teams
- Timeout 10 à¸§à¸´à¸™à¸²à¸—à¸µà¸ªà¸³à¸«à¸£à¸±à¸š client requests

### ðŸ›¡ï¸ Rate Limiting
- à¸ˆà¸³à¸à¸±à¸” 10 requests à¸•à¹ˆà¸­à¸™à¸²à¸—à¸µà¸•à¹ˆà¸­ IP address
- à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸à¸²à¸£à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸‹à¹‰à¸³à¹†

### ðŸ“ Enhanced Logging
- à¸šà¸±à¸™à¸—à¸¶à¸à¸à¸²à¸£à¸ªà¹ˆà¸‡à¸—à¸¸à¸à¸„à¸£à¸±à¹‰à¸‡
- à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¸—à¸µà¹ˆà¸Šà¸±à¸”à¹€à¸ˆà¸™
- à¸£à¸­à¸‡à¸£à¸±à¸š development à¹à¸¥à¸° production modes

### ðŸŽ¨ Improved Message Format
- à¹ƒà¸Šà¹‰ emoji à¹à¸¥à¸° markdown formatting
- à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸„à¸£à¸šà¸–à¹‰à¸§à¸™à¹à¸¥à¸°à¹€à¸›à¹‡à¸™à¸£à¸°à¹€à¸šà¸µà¸¢à¸š
- à¸£à¸§à¸¡à¸¥à¸´à¸‡à¸à¹Œà¹„à¸›à¸¢à¸±à¸‡à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¸­à¸­à¹€à¸”à¸­à¸£à¹Œ

## à¸à¸²à¸£à¹à¸à¹‰à¹„à¸‚à¸›à¸±à¸à¸«à¸²

### à¸›à¸±à¸à¸«à¸²à¸—à¸µà¹ˆà¸žà¸šà¸šà¹ˆà¸­à¸¢

1. **Webhook URL à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡**
   - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸² URL à¸‚à¸¶à¹‰à¸™à¸•à¹‰à¸™à¸”à¹‰à¸§à¸¢ `https://`
   - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸² URL à¸¡à¸µ `office.com` à¹à¸¥à¸° `webhookb2`

2. **Rate Limit Exceeded**
   - à¸£à¸­ 1 à¸™à¸²à¸—à¸µà¹à¸¥à¹‰à¸§à¸¥à¸­à¸‡à¹ƒà¸«à¸¡à¹ˆ
   - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸²à¹„à¸¡à¹ˆà¸¡à¸µà¸à¸²à¸£à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸‹à¹‰à¸³à¹†

3. **Timeout Errors**
   - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸­à¸´à¸™à¹€à¸—à¸­à¸£à¹Œà¹€à¸™à¹‡à¸•
   - à¸¥à¸­à¸‡à¹ƒà¸«à¸¡à¹ˆà¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸à¸ªà¸±à¸à¸„à¸£à¸¹à¹ˆ

### à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Logs

à¸”à¸¹ logs à¹ƒà¸™ browser console à¸«à¸£à¸·à¸­ server logs:

\`\`\`javascript
// Browser console
console.log("Escalation result:", result)

// Server logs (Vercel)
// à¸”à¸¹à¹ƒà¸™ Vercel dashboard > Functions > Logs
